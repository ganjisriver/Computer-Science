# HTTP, HTTPS λ™μ‘ κ³Όμ •μ€ μ–΄λ–»κ² μ΄λ£¨μ–΄μ§κΉ(feat. DNS, SSL)

#### :date: λ‚ μ§: 2023-10-18

### :question: μ΄ μ£Όμ λ¥Ό νƒν• μ΄μ 

- λ¬Έλ“, HTTPμ™€ HTTPSλ” ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ κ°„ λ°μ΄ν„° μ „μ†΅μ΄ λ°μƒν•  λ•, λ°μ΄ν„°λ¥Ό μ•”νΈν™” ν•΄μ£Όλ”μ§€μ— λ€ν• μ°¨μ΄λΌκ³  λ“¤μ—λ‹¤. DNSκ΄€λ ¨ μ •λ³΄λ¥Ό μ°Ύμ•„λ³΄λ‹¤κ°€ κ¶κΈν•΄μ„ μ°Ύμ•„λ³΄κΈ°λ΅ ν–λ‹¤.

> ### HTTP λ™μ‘ κ³Όμ •

1. ν΄λΌμ΄μ–ΈνΈ URL μ£Όμ†λ¥Ό μ…λ ¥ λ° DNS μ„λ²„λ¥Ό ν†µν•΄ IPλ¥Ό νλ“
   
   > ### DNS λ™μ‘ κ³Όμ •
   > 
   > κΈ°λ³Έμ μΌλ΅ http μ”μ²­μ΄ λ°μƒν•  λ• λ§λ‹¤, DNS μ„λ²„μ— IPλ¥Ό μ”μ²­ν•λ” κ³Όμ •μ„ κ±°μΉκ² λλ©΄, μ¤λ²„ν—¤λ“κ°€ κ³Όλ„ν•κ² λ°μƒν•  κ²ƒμ΄λ‹¤. κ·Έλμ„, λΈλΌμ°μ €λ” μμ£Ό λ°©λ¬Έν•λ” μ‚¬μ΄νΈλ” DNS μΊμ‹λ¥Ό ν†µν•΄ IPλ¥Ό μ €μ¥ν•μ—¬ DNS μ„λ²„λ¥Ό ν†µν•λ” μ¤λ²„ν—¤λ“λ¥Ό μµμ†ν™” ν•λ‹¤.
   > 
   > **λΈλΌμ°μ €κ°€ DNS μΊμ‹λ¥Ό μ°Ύλ” κ³Όμ •μ€ λ‹¤μκ³Ό κ°™λ‹¤.**
   > 
   > 1. **λΈλΌμ°μ € λ‚΄λ¶€ μΊμ‹λ¥Ό ν™•μΈ**
   >    
   >     -> μ΄μ „μ— λΈλΌμ°μ €μ—μ„ λ°©λ¬Έν• μ‚¬μ΄νΈμΈμ§€ ν™•μΈν•λ” μ μ°¨
   > 
   > 2. **μ΄μμ²΄μ  λ‚΄λ¶€ μΊμ‹ ν™•μΈ** 
   >    
   >    -> λΈλΌμ°μ €μ— μ—†λ” λ„λ©”μΈμ΄λ©΄, μ΄μμ²΄μ  λ‚΄λ¶€μ— μλ” DNS μΊμ‹μ— ν•΄λ‹Ή λ„λ©”μΈμ΄ λ“±λ΅λμ–΄ μλ”μ§€ ν™•μΈν•λ‹¤.
   > 
   > 3. **λΌμ°ν„° μΊμ‹ ν™•μΈ** 
   >    
   >    -> OS μΊμ‹μ— μΌμΉν•λ” DNS κΈ°λ΅μ΄ μ—†λ‹¤λ©΄ λΌμ°ν„°λ„ DNS κΈ°λ΅μ„ μΌμ‹μ μΌλ΅ λ³΄κ΄€ν•¨.
   > 
   > 4. **ISP μΊμ‹ ν™•μΈ**
   > 
   > *ISP(Internet Service Provider): μΈν„°λ„· μ„λΉ„μ¤ μ κ³µ μ£Όμ²΄(ex. KT, LG, SKT λ“±)
   > 
   > μ”μ²­ν• URLμ΄ μΊμ‹μ— μ—†μΌλ©΄ ISPμ DNS serverκ°€ μ¬κ·€μ μΌλ΅ λ„λ©”μΈμ„ μ°Ύλ”λ‹¤.
   > 
   > <img src="file:///C:/Users/ganjisriver/AppData/Roaming/marktext/images/2023-10-21-18-42-36-image.png" title="" alt="" width="479">
   > 
   > **π“ λ„λ©”μΈ μ•„ν‚¤ν…μ³ (Domain Architecture)**
   > 
   > > β€Ά λ£¨νΈ λ„λ©”μΈ (**Root**Β Domain)Β  Β ex. "."Β   
   > > β€Ά μµμƒμ„ λ„λ©”μΈ (TLD :Β **Top Level**Β Domain)Β  Β ex. "edu", "org", "gov", "com", "au"  
   > > β€Ά 2μ°¨ λ„λ©”μΈ (**Second Level**Β Domain)Β  Β ex. "openoffice.org", "expedia.gov", "microsoft.com"  
   > > β€Ά 3μ°¨ λ„λ©”μΈ (**Third Level**Β Domain)Β  Β ex. "www.openoffice.org", "download.microsoft.com"
   > 
   > <img src="https://velog.velcdn.com/images/narcoker/post/abe58d37-d36a-4a90-bf17-264b293e028a/image.png" title="" alt="" width="479">
   > 
   > μ΄λ ‡κ² μ£Όμ†μ°½μ— μ…λ ¥ν• λ„λ©”μΈμ„ IPμ£Όμ†λ΅ λ³€ν™ν•κ³ , μ΄λ¥Ό ν†µν•΄ ν•΄λ‹Ή μ„λ²„μ™€ TCP μ—°κ²°μ„ μ‹μ‘ν•λ‹¤.

2. μ›Ή μ„λ²„μ™€ TCP μ—°κ²° μ‹λ„ (3-way handshaking)μ„ ν†µν•΄ ν†µμ‹  μ—°κ²° μλ¦½, μ†μΌ“ κ°λ°©μ§„ν–‰
   
   - μ¶”ν›„ 3-way-handshaking κΈ€ μ‘μ„± μμ •

3. ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ—κ² μ”μ²­ (Request)

4. μ„λ²„λ” ν΄λΌμ΄μ–ΈνΈμ—κ² μ‘λ‹µ (Response)

5. μ—°κ²° μΆ…λ£ (4-way handshaking)

6. ν΄λΌμ΄μ–ΈνΈλ” μ‘λ‹µμ„ κΈ°λ°ν•μ—¬ μ›Ή λ¬Έμ„ μ¶λ ¥

> ### κ·Έλ ‡λ‹¤λ©΄ HTTPSλ”?
> 
> **HTTPμ™€μ μ°¨μ΄λ” three-way handshake κ³Όμ •μ—μ„ SSL μΈμ¦μ„ μ‹λ„ν•λ‹¤.**
> 
> μ„μ—μ„ ν™•μΈν• κ²ƒμ²λΌ TCP μ—°κ²°μ€ μ—°κ²° μ‹μ‘ν•  λ•, 3-way-handshakingμ„ ν†µν•΄ μ—°κ²° μƒνƒκ°€ μ •μƒμΈμ§€ ν™•μΈ ν•λ‹¤. HTTPSλ” μ„μ—μ„ μ„¤λ…ν• HTTPμ—°κ²° κ³Όμ • μ¤‘ 3-way-handshakingμ—μ„ μ„λ²„μ— μλ” ssl μΈμ¦μ„λ¥Ό ν™•μΈν•κ³ , μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈ Session Keyλ¥Ό ν™μ©ν•΄ λ°μ΄ν„° μ•”λ³µνΈν™”λ¥Ό μ”μ²­ν•λ‹¤.



<br>

> ### Handshaking κ³Όμ •μ—μ„ SSLμΈμ¦μ„ ν™•μΈν•λ” κ³Όμ • κ°μ”

1. ν΄λΌμ΄μ–ΈνΈλ” λλ¤λ°μ΄ν„° μƒμ„±ν•μ—¬ μ„λ²„ μ „λ‹¬
2. μ„λ²„μΈ΅μ—μ„ μƒμ„±ν• λ¬΄μ‘μ„ λ°μ΄ν„°μ™€ ν•΄λ‹Ή μ„λ²„ μΈμ¦μ„λ¥Ό μ‹¤μ–΄μ„ ν΄λΌμ΄μ–ΈνΈμ—κ² λ³΄λƒ„
3. λΈλΌμ°μ €μ— λ‚΄μ¥λ CAμ •λ³΄λ΅ μ„λ²„ μΈμ¦μ„λ¥Ό λΉ„λ€μΉ­ν‚¤ μ‹μ¤ν…μ„ ν†µν•΄ ν™•μΈ
4. λΈλΌμ°μ €μ— μ €μ¥λ CAμ κ³µκ°ν‚¤λ΅ μΈμ¦μ„ λ³µνΈν™” (*CAμΈμ¦μ„ λ°›μ€ μΈμ¦μ„λ“¤μ€ ν•΄λ‹Ή CAμ κ°μΈν‚¤λ΅ μ•”νΈν™” λμ–΄μμ) / λ§μ•½ λ³µνΈν™”κ°€ λμ§€ μ•λ”λ‹¤λ©΄ μ •μƒμ μΈ μ„λ²„ μΈμ¦μ„κ°€ μ•„λ‹μΌλ΅ λΈλΌμ°μ € μ£Όμ†μ°½μ— Not secureλΈ
5. λ³µνΈν™”λ μΈμ¦μ„λ΅ μ„λ²„ κ³µκ°ν‚¤ νλ“
6. ν•Έλ“μ‰μ΄ν‚Ή κ³Όμ •μ„ ν†µν•΄ μ£Όκ³ λ°›μ€ λ°μ΄ν„°λ¥Ό νΌν•©ν•΄μ„ μ„μ‹ν‚¤λ¥Ό μƒμ„±
7. μ„λ²„μ κ³µκ°ν‚¤λ΅ μ•”νΈν™”λμ„ μ„λ²„λ΅ λ³΄λ‚΄μ§
8. μ–‘μ½μ—μ„ μΌλ ¨μ κ³Όμ •μ„ κ±°μ³ λ™μΌν• λ€μΉ­ν‚¤ νλ“ 
9. μ΄ν›„ μ„λ΅ μ£Όκ³ λ°›λ” λ©”μ‹μ§€λ” λ€μΉ­ν‚¤λ΅ λ³΄μ•μ μ§€

*CA: Certification Authorityμ μ•½μ–΄λ΅, μΈμ¦ κΈ°κ΄€μ„ μλ―Έν•λ‹¤. 

> ### SSL μΈμ¦μ„ μ•κΈ° μ„ν•΄ λ¨Όμ € μ•μ•„μ•Όν•  κ³µκ°ν‚¤, λ€μΉ­ν‚¤
> 
> 

> ### SSL μΈμ¦ λ™μ‘ μ„Έλ¶€ κ³Όμ •
> 
> ![](C:\Users\ganjisriver\AppData\Roaming\marktext\images\2023-10-23-21-08-49-image.png)

> ### μ°Έκ³  μλ£

https://velog.io/@narcoker/λ„¤νΈμ›ν¬-HTTPμ™€-HTTPS-λ™μ‘-κ³Όμ •

https://velog.io/@kti0940/HTTPS-SSL-λ³µνΈν™”λ”-μ–΄λ””μ„-μ§„ν–‰λ κΉ

https://wayhome25.github.io/cs/2018/03/11/ssl-https/

[HTTPS ν†µμ‹ κ³Όμ • μ‰½κ² μ΄ν•΄ν•κΈ° #5(CA, μΈμ¦κΈ°κ΄€)](https://aws-hyoh.tistory.com/59)

[HTTPSμ™€ SSL μΈμ¦μ„ - μƒν™μ½”λ”©](https://opentutorials.org/course/228/4894)

https://www.cloudflare.com/ko-kr/learning/ssl/what-is-a-session-key/
