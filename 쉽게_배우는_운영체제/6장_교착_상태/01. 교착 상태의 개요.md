# 01. 교착 상태의 개요

### 1. 교착 상태의 정의

`교착 상태`

- 다른 작업이 끝나기만 기다리며, 작업을 더 이상 진행하지 못하는 상태를 **교착 상태**라고 한다.
- 시스템 자원
  - 교착 상태는 다른 프로세스와 공유할 수 없는 자원을 사용할 때 발생 한다.
  - 임계구역으로 보호 되는 프린터, 스캐너 등을 동시에 같이 사용할 수 없는 시스템 자원을 할당 받은 후 양보하지 않은 경우를 예로 들 수 있다.
- 잠금
  - 교착 상태는 잠금을 사용할 때도 발생한다.
  - 임계구역 문제를 해결하기 위해 잠금을 구현한 코드로, 무한 대기를 막지 못해 교착 상태가 발생한 경우, 교착 상태가 발생한다.
- 응용 프로그램
  - 데이터 베이스와 같은 응용프로그램에서도 교착 상태가 발생한다.
  - DB는 특히, 일관성 유지를 위해, 잠금을 사용하는데, 이 때 교착 상태가 발생할 수 있다.

### 2. 자원 할당 그래프

- 정의
  - 프로세스가 어떤 자원을 사용 중이고 어떤 자원을 기다리고 있는 지 방향성이 있는 그래프로 표현한 것
- 프로세스는 동그라미, 자원을 사각형으로 표현한다.

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/fd0cb2af-99a3-464f-8f29-ce4a98693e52/Untitled.png)

`다중자원`

자원이 2개 이상의 프로세스를 동시에 허용할 수 있고, 여러 프로세스가 동시에 사용하는 자원을 다중 자원이라고 한다.

`식사하는 철학자 문제를 통한 교착 상태 설명`

각 철학자들은 왼쪽 포크를 집은 채, 오른쪽 포크를 잡아야 식사가 가능하다는 문제

→ 서로 순서대로 식사를 하면 먹을 수 있지만, 모든 철학자가 왼쪽 포크를 집은 채, 놓지 않게 되어, 오른쪽 포크를 집지 못해 식사를 진행할 수 없음을 나타낸다.

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/19e8c4a3-fbcf-4175-beb8-f2cb21c4e75a/Untitled.png)

1. 철학자들은 서로 포크를 공유할 수 없다.

→ 자원을 공유하지 못하면 교착 상태가 발생한다.

1. 각 철학자는 다른 철학자의 포크를 뺏을 수 없다.

→ 자원을 뺏을 수 없다면, 자원을 놓을 때까지 기다려야 하므로 교착 상태가 발생한다.

1. 각 철학자는 왼쪽 포크를 집은 채 오른쪽 포크를 기다린다.

→ 자원 하나를 잡은 상태에서 다른 자원을 기다리면 교착 상태가 발생한다.

1. 자원 할당 그래프가 원형이다.

→ 자원을 요구하는 방향이 원을 이루면 양보를 하지 않기 때문에, 교착 상태가 발생한다.
