# 03. 세그먼테이션 기법



**가변 분할 방식을 이용한 가상 메모리 관리 기법**으로, 물리 메모리를 프로세스의 크기에 따라 **가변적**으로 나누어 사용한다. 세그먼테이션 기법에서도 물리 메모리가 부족할 때 스왑 영역을 사용한다.

!https://blog.kakaocdn.net/dn/ybMl1/btreYozney9/Tg7KjLoOvULY4cuIiEKWSk/img.png

**가상 주소 VA = <S, D>**

**위 그림에서 프로세스 A의 32번지에 접근할 때 주소 변환 과정**

1. **VA = <0, 32>**
2. **시작 주소 120에 거리 32를 더하면 물리 주소 152**
3. **152가 세그먼트 크기보다 큰지 점검 (크면 오류 출력, 크지 않다면 물리 주소 구한다)**
4. **물리 주소 152번지에 접근하여 원하는 데이터를 읽거나 쓴다**

---

# **세그먼테이션-페이징 혼용 기법**

**세그먼테이션 기법의 페이지 테이블 크기를 작게 유지하는 장점과 페이징의 수월한 메모리 관리 기법인 물리 메모리를 같은 크기로 나누어 관리하는 장점을 합친 가상 메모리 관리 기법**이다.

!https://blog.kakaocdn.net/dn/YciT2/btre0aUROp6/aSV3m5SPWYuptmYjfiikYk/img.png

**가상 주소 VA = <S, P, D>**

**세그먼테이션-페이징 혼용 기법에서 가상 주소를 물리 주소로 변환하는 과정**

1. 가상 주소 VA = <S, P, D>를 구한다.
2. 영역 검사, 권한 검사 등을 진행한다. 범위 밖일 시 오류 출력, 범위 안이면 연결된 페이지 테이블로 이동
3. 페이지 테이블에서 해당 페이지가 어느 프레임에 저장되었는지 찾는다.프레임 존재 -> 메모리 접근, 프레임 존재 X -> 스왑 영역으로 가서 해당 페이지를 물리 메모리로 가져온다.
4. 물리 메모리에 있는 프레임의 처음 위치에서 D만큼 떨어진 곳에 접근하여 데이터를 읽거나 쓴다.
