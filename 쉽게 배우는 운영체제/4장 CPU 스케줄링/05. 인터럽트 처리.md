# 05. 인터럽트 처리

1. **인터럽트의 개념**
- 폴링
  
  - 과거에는 입출력장치가 거의 없어, 입출력을 요청하면, 운영체제가 주기적으로 입출력장치를 직접 확인함.

- 인터럽트
  
  - 입출력이 완료되면, 이벤트를 발생시켜, 이 사실을 알림
1. **동기적 인터럽트와 비동기적 인터럽트**

`동기적 인터럽트`

- 정의
  - 실행 중인 명령어로 인해 발생한 인터럽트
- 발생 상황
  - 프로그램 문제로 인한 인터럽트
    - 다른 사용자의 메모리 영역에 접근하는 경우, 오버플로우, 언더플로우 등에 의해 발생
  - 컴퓨터 작업자가 의도적으로 프로세스를 중단 시키기 위해 발생한 인터럽트
  - 입출력장치 같은 주변장치에 의한 인터럽트
  - 산술 연산 중 발생하는 인터럽트
    - 0으로 나누는 등의 zerodivision 상황

`비동기적 인터럽트`

- 하드디스크 읽기 오류, 메모리 불량 등 하드웨어 오류
1. **인터럽트 처리 과정**

인터럽트는 인터럽트 마다의 번호와 해당 인터럽트를 처리하는 함수가 정의되어 있다.

![Untitled](./assets/4-5-1%20인터럽트%20처리%20함수.png)

- 예시
  - 크롬의 우측 상단에 존재 하는 최소화 버튼을 누르면 최소화, 닫기 버튼을 누르면 닫기 버튼을 누르는 함수의 번호가 각각 할당되어, 인터럽트 발생 시 실행시키게 된다.
- 인터럽트 벡터
  - 동시에 발생하는 인터럽트를 하나로 묶어 처리하는 인터럽트 벡터가 존재한다.

![Untitled](./assets/4-5-2%20인터럽트%20벡터.png)

- 인터럽트가 발생할 때, 인터럽트 벡터의 번호가 1번으로 바뀐다.

- 인터럽트 처리 과정
  
  1. 인터럽트 발생 시, 현재 프로세스는 일시 정지가 되고, 재시작하기 위해 현재 프로세스 관련된 정보 저장
  2. 인터럽트 컨트롤러가 실행되어 우선 순위에 따라, 인터럽트 처리 순서 결정
  3. 인터럽트의 처리 순서 결정 후 인터럽트 핸들러가 실행된다.
  4. 인터럽트 벡터에 연결된 핸들러가 처리되면, 프로세스가 다시 실행 되거나, 종료한다.
1. **인터럽트와 이중 모드**
- 정의
  - 커널 프로세스를 사용해야할 때, 사용자 모드에서 커널 모드로 전환 되는데, 이 처럼, 두 모드를 전환하여 일처리를 하는 것을 이중 모드라고 함.
- 특징
  - 운영체제가 자원을 보호하기 위해 사용
    - 사용자가 시스템에 직접 접근하면 문제가 발생할 수 있기 때문
- 시스템 호출
  - 사용자가 커널 프로세스를 사용하기 위해 사용
  - 사용자는 운영체제가 제공한 API를 통해 시스템 호출을 이용하여 컴퓨터 자원에 접근
