# 03. 다중 큐

1. **준비 상태의 다중큐**

프로세스 별 중요도는 PCB에 기록이 되고, CPU 스케줄러는 프로세스 별 중요도를 파악하여 중요도가 높은 프로세스를 실행시킨다.

→ 실행 단계로 프로세스를 옮길 때마다, PCB블록을 모두 탐색하는 것은 비효율적이다.

→ 그래서, 우선순위큐를 여러 개 만들어 일일이 탐색하지 않는다.

![Untitled](./assets/4-3-1%20준비%20상태의%20다중%20큐.png)

1. 프로세스는 자신의 우선 순위에 해당하는 큐의 마지막에 삽입된다.
2. CPU 스케줄러는 우선순위가 가장 높은 큐(0번 큐)의 맨 앞에 있는 프로세스(그림에서는 6번 프로세스)에 CPU를 할당 한다.

준비 큐의 개수, 어떤 준비 큐의 프로세스 0번을 실행 단계로 올리는 지는 스케줄링 알고리즘에 따라 다름.

`프로세스의 우선 순위 배정 방식`

- 고정 우선순위 방식
  - 특징
    - 운영체제가 프로세스에 우선순위를 반영하면, 해당 프로세스의 우선순위는 프로세스가 끝날 때까지 변하지 않는 방식
  - 장점
    - 구현하기 쉽다.
  - 단점
    - 시스템 상황이 지속적으로 변함에도, 시스템 변화에 대응하지 않아, 작업 효율이 떨어진다.
- 변동 우선순위 방식
  - 특징
    - 프로세스 생성 시 부여 받은 우선순위가 프로세스 작업 중간에 변하는 방식
  - 장점
    - 시스템 상황에 대응하기 좋다.
  - 단점
    - 구현하기 어렵다.

---

1. **대기 상태의 다중 큐**

입출력이 완료되기를 기다리는 프로세스가 모여 있는 대기 상태에서, 입출력 완료 인터럽트가 발생할 때마다, 프로세스를 일일이 찾으면 작업의 효율이 낮아져, 대기 상태에서도 다중 큐가 존재한다.

![Untitled](./assets/4-3-2%20대기%20상태의%20다중%20큐.png)

- 대기 상태에서의 다중 큐는 장치 별로 나뉜다.

- 준비 상태에서의 다중 큐와 차이점
  
  - 준비 상태에서의 큐는 한 번에 하나의 프로세스가 CPU를 할당 받는다.
  - 대기 상태에서의 큐는 입출력이 여러 장치가 동시에 끝났을 경우, 한 번에 준비 상태로 옮긴다.
  
  → 이를 위해 인터럽트 벡터라는 자료 구조를 사용한다.

준비 상태와 대기 상태의 다중 큐 구조

![Untitled](./assets/4-3-3%20준비%20상태와%20대기%20상태의%20다중%20큐.png)
